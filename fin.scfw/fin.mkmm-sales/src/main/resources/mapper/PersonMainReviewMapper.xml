<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.yqjr.fin.mkmm.sales.mapper.PersonMainReviewMapper">

    <!-- region BaseMapper DO NOT MODIFY!!!  -->

    <sql id="Base_Table_Name">
        MKMM_PERSON_MAIN_REVIEW
    </sql>


    <!-- region BaseResultMap  -->
    <resultMap id="BaseResultMap" type="com.yqjr.fin.mkmm.sales.entity.PersonMainReview">
        <result property="id" column="ID"/><!--序列-->
        <result property="personCode" column="PERSON_CODE"/><!--人员代码-->
        <result property="personName" column="PERSON_NAME"/><!--人员姓名-->
        <result property="personIdcard" column="PERSON_IDCARD"/><!--身份证号-->
        <result property="remark" column="REMARK"/><!--备注-->
        <result property="personAge" column="PERSON_AGE"/><!--年龄-->
        <result property="personEthnic" column="PERSON_ETHNIC"/><!--民族-->
        <result property="personMarr" column="PERSON_MARR"/><!--婚姻状况-->
        <result property="personSchool" column="PERSON_SCHOOL"/><!--毕业学校-->
        <result property="personSubject" column="PERSON_SUBJECT"/><!--专业-->
        <result property="personEdu" column="PERSON_EDU"/><!--最高学历-->
        <result property="personEdulevel" column="PERSON_EDULEVEL"/><!--学位-->
        <result property="personWorktime" column="PERSON_WORKTIME"/><!--工龄-->
        <result property="personFirstworktime" column="PERSON_FIRSTWORKTIME"/><!--参加工作时间-->
        <result property="personAddress" column="PERSON_ADDRESS"/><!--家庭住址-->
        <result property="personHomephone" column="PERSON_HOMEPHONE"/><!--家庭电话-->
        <result property="personWorkphone" column="PERSON_WORKPHONE"/><!--工作电话-->
        <result property="personPhone" column="PERSON_PHONE"/><!--移动电话-->
        <result property="personEmail" column="PERSON_EMAIL"/><!--e-mail-->
        <result property="startTime" column="START_TIME"/><!--生效时间-->
        <result property="createTime" column="CREATE_TIME"/><!--创建时间-->
        <result property="modifyTime" column="MODIFY_TIME"/><!--修改时间-->
        <result property="creator" column="CREATOR"/><!--创建人-->
        <result property="modifier" column="MODIFIER"/><!--修改人-->
        <result property="personBirth" column="PERSON_BIRTH"/><!--出生日期-->
        <result property="loginName" column="LOGIN_NAME"/><!--登陆姓名-->
        <result property="company" column="COMPANY"/><!--所属公司-->
        <result property="personTeamReviewId" column="PERSON_TEAM_REVIEW_ID"/><!--人员团队审核表id-->
    </resultMap>
    <!-- endregion -->

    <!-- region Base_Column_List  -->
    <sql id="Base_Column_List">
    ID,PERSON_CODE,PERSON_NAME,PERSON_IDCARD,REMARK,PERSON_AGE,PERSON_ETHNIC,PERSON_MARR,PERSON_SCHOOL,PERSON_SUBJECT,PERSON_EDU,PERSON_EDULEVEL,PERSON_WORKTIME,PERSON_FIRSTWORKTIME,PERSON_ADDRESS,PERSON_HOMEPHONE,PERSON_WORKPHONE,PERSON_PHONE,PERSON_EMAIL,START_TIME,CREATE_TIME,MODIFY_TIME,CREATOR,MODIFIER,PERSON_BIRTH,LOGIN_NAME,COMPANY,PERSON_TEAM_REVIEW_ID
    </sql>
    <!-- endregion -->

    <!-- region Base_Column_List_Selective  -->
    <sql id="Base_Column_List_Selective">
        <trim suffixOverrides=",">
            <if test="id != null">
                ID,
            </if>
            <if test="personCode != null">
                PERSON_CODE,
            </if>
            <if test="personName != null">
                PERSON_NAME,
            </if>
            <if test="personIdcard != null">
                PERSON_IDCARD,
            </if>
            <if test="remark != null">
                REMARK,
            </if>
            <if test="personAge != null">
                PERSON_AGE,
            </if>
            <if test="personEthnic != null">
                PERSON_ETHNIC,
            </if>
            <if test="personMarr != null">
                PERSON_MARR,
            </if>
            <if test="personSchool != null">
                PERSON_SCHOOL,
            </if>
            <if test="personSubject != null">
                PERSON_SUBJECT,
            </if>
            <if test="personEdu != null">
                PERSON_EDU,
            </if>
            <if test="personEdulevel != null">
                PERSON_EDULEVEL,
            </if>
            <if test="personWorktime != null">
                PERSON_WORKTIME,
            </if>
            <if test="personFirstworktime != null">
                PERSON_FIRSTWORKTIME,
            </if>
            <if test="personAddress != null">
                PERSON_ADDRESS,
            </if>
            <if test="personHomephone != null">
                PERSON_HOMEPHONE,
            </if>
            <if test="personWorkphone != null">
                PERSON_WORKPHONE,
            </if>
            <if test="personPhone != null">
                PERSON_PHONE,
            </if>
            <if test="personEmail != null">
                PERSON_EMAIL,
            </if>
            <if test="startTime != null">
                START_TIME,
            </if>
            <if test="createTime != null">
                CREATE_TIME,
            </if>
            <if test="modifyTime != null">
                MODIFY_TIME,
            </if>
            <if test="creator != null">
                CREATOR,
            </if>
            <if test="modifier != null">
                MODIFIER,
            </if>
            <if test="personBirth != null">
                PERSON_BIRTH,
            </if>
            <if test="loginName != null">
                LOGIN_NAME,
            </if>
            <if test="company != null">
                COMPANY,
            </if>
            <if test="personTeamReviewId != null">
                PERSON_TEAM_REVIEW_ID,
            </if>
        </trim>
    </sql>
    <!-- endregion -->

    <!-- region Base_Column_Values  -->
    <sql id="Base_Column_Values">
        SEQ_MKMM_PERSON_MAIN_REVIEW.nextval,
        <!--#{id,jdbcType=NUMERIC},-->
        #{personCode,jdbcType=VARCHAR},
        #{personName,jdbcType=VARCHAR},
        #{personIdcard,jdbcType=VARCHAR},
        #{remark,jdbcType=VARCHAR},
        #{personAge,jdbcType=VARCHAR},
        #{personEthnic,jdbcType=VARCHAR},
        #{personMarr,jdbcType=VARCHAR},
        #{personSchool,jdbcType=VARCHAR},
        #{personSubject,jdbcType=VARCHAR},
        #{personEdu,jdbcType=VARCHAR},
        #{personEdulevel,jdbcType=VARCHAR},
        #{personWorktime,jdbcType=VARCHAR},
        #{personFirstworktime,jdbcType=TIMESTAMP},
        #{personAddress,jdbcType=VARCHAR},
        #{personHomephone,jdbcType=VARCHAR},
        #{personWorkphone,jdbcType=VARCHAR},
        #{personPhone,jdbcType=VARCHAR},
        #{personEmail,jdbcType=VARCHAR},
        #{startTime,jdbcType=TIMESTAMP},
        #{createTime,jdbcType=TIMESTAMP},
        #{modifyTime,jdbcType=TIMESTAMP},
        #{creator,jdbcType=NUMERIC},
        #{modifier,jdbcType=NUMERIC},
        #{personBirth,jdbcType=TIMESTAMP},
        #{loginName,jdbcType=VARCHAR},
        #{company,jdbcType=VARCHAR},
        #{personTeamReviewId,jdbcType=INTEGER}
    </sql>
    <!-- endregion -->

    <!-- region Base_Column_Values_Selective  -->
    <sql id="Base_Column_Values_Selective">
        <trim suffixOverrides=",">
            <if test="id != null">
                #{id},
            </if>
            <if test="personCode != null">
                #{personCode},
            </if>
            <if test="personName != null">
                #{personName},
            </if>
            <if test="personIdcard != null">
                #{personIdcard},
            </if>
            <if test="remark != null">
                #{remark},
            </if>
            <if test="personAge != null">
                #{personAge},
            </if>
            <if test="personEthnic != null">
                #{personEthnic},
            </if>
            <if test="personMarr != null">
                #{personMarr},
            </if>
            <if test="personSchool != null">
                #{personSchool},
            </if>
            <if test="personSubject != null">
                #{personSubject},
            </if>
            <if test="personEdu != null">
                #{personEdu},
            </if>
            <if test="personEdulevel != null">
                #{personEdulevel},
            </if>
            <if test="personWorktime != null">
                #{personWorktime},
            </if>
            <if test="personFirstworktime != null">
                #{personFirstworktime},
            </if>
            <if test="personAddress != null">
                #{personAddress},
            </if>
            <if test="personHomephone != null">
                #{personHomephone},
            </if>
            <if test="personWorkphone != null">
                #{personWorkphone},
            </if>
            <if test="personPhone != null">
                #{personPhone},
            </if>
            <if test="personEmail != null">
                #{personEmail},
            </if>
            <if test="startTime != null">
                #{startTime},
            </if>
            <if test="createTime != null">
                #{createTime},
            </if>
            <if test="modifyTime != null">
                #{modifyTime},
            </if>
            <if test="creator != null">
                #{creator},
            </if>
            <if test="modifier != null">
                #{modifier},
            </if>
            <if test="personBirth != null">
                #{personBirth},
            </if>
            <if test="loginName != null">
                #{loginName},
            </if>
            <if test="company != null">
                #{company},
            </if>
            <if test="personTeamReviewId != null">
                #{personTeamReviewId}
            </if>
        </trim>
    </sql>
    <!-- endregion -->

    <!-- region Base_Column_Set_Values  -->
    <sql id="Base_Column_Set_Values">
    ID = #{id},
    PERSON_CODE = #{personCode},
    PERSON_NAME = #{personName},
    PERSON_IDCARD = #{personIdcard},
    REMARK = #{remark},
    PERSON_AGE = #{personAge},
    PERSON_ETHNIC = #{personEthnic},
    PERSON_MARR = #{personMarr},
    PERSON_SCHOOL = #{personSchool},
    PERSON_SUBJECT = #{personSubject},
    PERSON_EDU = #{personEdu},
    PERSON_EDULEVEL = #{personEdulevel},
    PERSON_WORKTIME = #{personWorktime},
    PERSON_FIRSTWORKTIME = #{personFirstworktime},
    PERSON_ADDRESS = #{personAddress},
    PERSON_HOMEPHONE = #{personHomephone},
    PERSON_WORKPHONE = #{personWorkphone},
    PERSON_PHONE = #{personPhone},
    PERSON_EMAIL = #{personEmail},
    START_TIME = #{startTime},
    CREATE_TIME = #{createTime},
    MODIFY_TIME = #{modifyTime},
    CREATOR = #{creator},
    MODIFIER = #{modifier},
    PERSON_BIRTH = #{personBirth},
    LOGIN_NAME = #{loginName},
    COMPANY = #{company},
    PERSON_TEAM_REVIEW_ID = #{personTeamReviewId}
    </sql>
    <!-- endregion -->

    <!-- region Base_Column_Set_Values_Selective  -->
    <sql id="Base_Column_Set_Values_Selective">
        <if test="id != null">
            ID = #{id},
        </if>
        <if test="personCode != null">
            PERSON_CODE = #{personCode},
        </if>
        <if test="personName != null">
            PERSON_NAME = #{personName},
        </if>
        <if test="personIdcard != null">
            PERSON_IDCARD = #{personIdcard},
        </if>
        <if test="remark != null">
            REMARK = #{remark},
        </if>
        <if test="personAge != null">
            PERSON_AGE = #{personAge},
        </if>
        <if test="personEthnic != null">
            PERSON_ETHNIC = #{personEthnic},
        </if>
        <if test="personMarr != null">
            PERSON_MARR = #{personMarr},
        </if>
        <if test="personSchool != null">
            PERSON_SCHOOL = #{personSchool},
        </if>
        <if test="personSubject != null">
            PERSON_SUBJECT = #{personSubject},
        </if>
        <if test="personEdu != null">
            PERSON_EDU = #{personEdu},
        </if>
        <if test="personEdulevel != null">
            PERSON_EDULEVEL = #{personEdulevel},
        </if>
        <if test="personWorktime != null">
            PERSON_WORKTIME = #{personWorktime},
        </if>
        <if test="personFirstworktime != null">
            PERSON_FIRSTWORKTIME = #{personFirstworktime},
        </if>
        <if test="personAddress != null">
            PERSON_ADDRESS = #{personAddress},
        </if>
        <if test="personHomephone != null">
            PERSON_HOMEPHONE = #{personHomephone},
        </if>
        <if test="personWorkphone != null">
            PERSON_WORKPHONE = #{personWorkphone},
        </if>
        <if test="personPhone != null">
            PERSON_PHONE = #{personPhone},
        </if>
        <if test="personEmail != null">
            PERSON_EMAIL = #{personEmail},
        </if>
        <if test="startTime != null">
            START_TIME = #{startTime},
        </if>
        <if test="createTime != null">
            CREATE_TIME = #{createTime},
        </if>
        <if test="modifyTime != null">
            MODIFY_TIME = #{modifyTime},
        </if>
        <if test="creator != null">
            CREATOR = #{creator},
        </if>
        <if test="modifier != null">
            MODIFIER = #{modifier},
        </if>
        <if test="personBirth != null">
            PERSON_BIRTH = #{personBirth},
        </if>
        <if test="loginName != null">
            LOGIN_NAME = #{loginName},
        </if>
        <if test="company != null">
            COMPANY = #{company},
        </if>
        <if test="personTeamReviewId != null">
            PERSON_TEAM_REVIEW_ID = #{personTeamReviewId}
        </if>
    </sql>
    <!-- endregion -->

    <!-- region Base_Column_Where_Selective  -->
    <sql id="Base_Column_Where_Selective">
        <if test="id != null">
            and ID = #{id}
        </if>
        <if test="personCode != null">
            and PERSON_CODE = #{personCode}
        </if>
        <if test="personName != null">
            and PERSON_NAME = #{personName}
        </if>
        <if test="personIdcard != null">
            and PERSON_IDCARD = #{personIdcard}
        </if>
        <if test="remark != null">
            and REMARK = #{remark}
        </if>
        <if test="personAge != null">
            and PERSON_AGE = #{personAge}
        </if>
        <if test="personEthnic != null">
            and PERSON_ETHNIC = #{personEthnic}
        </if>
        <if test="personMarr != null">
            and PERSON_MARR = #{personMarr}
        </if>
        <if test="personSchool != null">
            and PERSON_SCHOOL = #{personSchool}
        </if>
        <if test="personSubject != null">
            and PERSON_SUBJECT = #{personSubject}
        </if>
        <if test="personEdu != null">
            and PERSON_EDU = #{personEdu}
        </if>
        <if test="personEdulevel != null">
            and PERSON_EDULEVEL = #{personEdulevel}
        </if>
        <if test="personWorktime != null">
            and PERSON_WORKTIME = #{personWorktime}
        </if>
        <if test="personFirstworktime != null">
            and PERSON_FIRSTWORKTIME = #{personFirstworktime}
        </if>
        <if test="personAddress != null">
            and PERSON_ADDRESS = #{personAddress}
        </if>
        <if test="personHomephone != null">
            and PERSON_HOMEPHONE = #{personHomephone}
        </if>
        <if test="personWorkphone != null">
            and PERSON_WORKPHONE = #{personWorkphone}
        </if>
        <if test="personPhone != null">
            and PERSON_PHONE = #{personPhone}
        </if>
        <if test="personEmail != null">
            and PERSON_EMAIL = #{personEmail}
        </if>
        <if test="startTime != null">
            and START_TIME = #{startTime}
        </if>
        <if test="createTime != null">
            and CREATE_TIME = #{createTime}
        </if>
        <if test="modifyTime != null">
            and MODIFY_TIME = #{modifyTime}
        </if>
        <if test="creator != null">
            and CREATOR = #{creator}
        </if>
        <if test="modifier != null">
            and MODIFIER = #{modifier}
        </if>
        <if test="personBirth != null">
            and PERSON_BIRTH = #{personBirth}
        </if>
        <if test="loginName != null">
            and LOGIN_NAME = #{loginName}
        </if>
        <if test="company != null">
            and COMPANY = #{company}
        </if>
        <if test="personTeamReviewId != null">
            and PERSON_TEAM_REVIEW_ID = #{personTeamReviewId}
        </if>
    </sql>
    <!-- endregion -->

    <!-- region Base_Column_Where_Selective_Param1  -->
    <sql id="Base_Column_Where_Selective_Param1">
        <if test="param1.id != null">
            and ID = #{param1.id}
        </if>
        <if test="param1.personCode != null">
            and PERSON_CODE = #{param1.personCode}
        </if>
        <if test="param1.personName != null">
            and PERSON_NAME = #{param1.personName}
        </if>
        <if test="param1.personIdcard != null">
            and PERSON_IDCARD = #{param1.personIdcard}
        </if>
        <if test="param1.remark != null">
            and REMARK = #{param1.remark}
        </if>
        <if test="param1.personAge != null">
            and PERSON_AGE = #{param1.personAge}
        </if>
        <if test="param1.personEthnic != null">
            and PERSON_ETHNIC = #{param1.personEthnic}
        </if>
        <if test="param1.personMarr != null">
            and PERSON_MARR = #{param1.personMarr}
        </if>
        <if test="param1.personSchool != null">
            and PERSON_SCHOOL = #{param1.personSchool}
        </if>
        <if test="param1.personSubject != null">
            and PERSON_SUBJECT = #{param1.personSubject}
        </if>
        <if test="param1.personEdu != null">
            and PERSON_EDU = #{param1.personEdu}
        </if>
        <if test="param1.personEdulevel != null">
            and PERSON_EDULEVEL = #{param1.personEdulevel}
        </if>
        <if test="param1.personWorktime != null">
            and PERSON_WORKTIME = #{param1.personWorktime}
        </if>
        <if test="param1.personFirstworktime != null">
            and PERSON_FIRSTWORKTIME = #{param1.personFirstworktime}
        </if>
        <if test="param1.personAddress != null">
            and PERSON_ADDRESS = #{param1.personAddress}
        </if>
        <if test="param1.personHomephone != null">
            and PERSON_HOMEPHONE = #{param1.personHomephone}
        </if>
        <if test="param1.personWorkphone != null">
            and PERSON_WORKPHONE = #{param1.personWorkphone}
        </if>
        <if test="param1.personPhone != null">
            and PERSON_PHONE = #{param1.personPhone}
        </if>
        <if test="param1.personEmail != null">
            and PERSON_EMAIL = #{param1.personEmail}
        </if>
        <if test="param1.startTime != null">
            and START_TIME = #{param1.startTime}
        </if>
        <if test="param1.createTime != null">
            and CREATE_TIME = #{param1.createTime}
        </if>
        <if test="param1.modifyTime != null">
            and MODIFY_TIME = #{param1.modifyTime}
        </if>
        <if test="param1.creator != null">
            and CREATOR = #{param1.creator}
        </if>
        <if test="param1.modifier != null">
            and MODIFIER = #{param1.modifier}
        </if>
        <if test="param1.personBirth != null">
            and PERSON_BIRTH = #{param1.personBirth}
        </if>
        <if test="param1.loginName != null">
            and LOGIN_NAME = #{param1.loginName}
        </if>
        <if test="param1.company != null">
            and COMPANY = #{param1.company}
        </if>
        <if test="param1.personTeamReviewId != null">
            and PERSON_TEAM_REVIEW_ID = #{param1.personTeamReviewId}
        </if>
    </sql>
    <!-- endregion -->

    <!-- region Base_Order_By  -->
    <sql id="Base_Order_By">
        <bind name="propName" value="sortField"></bind>
        ORDER BY
        <include refid="Base_Column_Name"/>
        <choose>
            <when test="isAscend">
                ASC
            </when>
            <otherwise>
                DESC
            </otherwise>
        </choose>
    </sql>
    <!-- endregion -->

    <!-- region Base_Column_Name  -->
    <sql id="Base_Column_Name">
        <if test='"id" == propName'>
            ID
        </if>
        <if test='"personCode" == propName'>
            PERSON_CODE
        </if>
        <if test='"personName" == propName'>
            PERSON_NAME
        </if>
        <if test='"personIdcard" == propName'>
            PERSON_IDCARD
        </if>
        <if test='"remark" == propName'>
            REMARK
        </if>
        <if test='"personAge" == propName'>
            PERSON_AGE
        </if>
        <if test='"personEthnic" == propName'>
            PERSON_ETHNIC
        </if>
        <if test='"personMarr" == propName'>
            PERSON_MARR
        </if>
        <if test='"personSchool" == propName'>
            PERSON_SCHOOL
        </if>
        <if test='"personSubject" == propName'>
            PERSON_SUBJECT
        </if>
        <if test='"personEdu" == propName'>
            PERSON_EDU
        </if>
        <if test='"personEdulevel" == propName'>
            PERSON_EDULEVEL
        </if>
        <if test='"personWorktime" == propName'>
            PERSON_WORKTIME
        </if>
        <if test='"personFirstworktime" == propName'>
            PERSON_FIRSTWORKTIME
        </if>
        <if test='"personAddress" == propName'>
            PERSON_ADDRESS
        </if>
        <if test='"personHomephone" == propName'>
            PERSON_HOMEPHONE
        </if>
        <if test='"personWorkphone" == propName'>
            PERSON_WORKPHONE
        </if>
        <if test='"personPhone" == propName'>
            PERSON_PHONE
        </if>
        <if test='"personEmail" == propName'>
            PERSON_EMAIL
        </if>
        <if test='"startTime" == propName'>
            START_TIME
        </if>
        <if test='"createTime" == propName'>
            CREATE_TIME
        </if>
        <if test='"modifyTime" == propName'>
            MODIFY_TIME
        </if>
        <if test='"creator" == propName'>
            CREATOR
        </if>
        <if test='"modifier" == propName'>
            MODIFIER
        </if>
        <if test='"personBirth" == propName'>
            PERSON_BIRTH
        </if>
        <if test='"loginName" == propName'>
            LOGIN_NAME
        </if>
        <if test='"company" == propName'>
            COMPANY
        </if>
        <if test='"personTeamReviewId" == propName'>
            personTeamReviewId
        </if>
    </sql>
    <!-- endregion -->

    <!-- region Base_Id_Array  -->
    <sql id="Base_Id_Array">
        <foreach collection="array" open="(" close=")" separator="," item="id">
            #{id}
        </foreach>
    </sql>
    <!-- endregion -->

    <!-- region Base_Id_List  -->
    <sql id="Base_Id_List">
        <foreach collection="list" open="(" close=")" separator="," item="id">
            #{id}
        </foreach>
    </sql>
    <!-- endregion -->

    <!-- region Base_Select_All  -->
    <sql id="Base_Select_All">
        select
        <include refid="Base_Column_List"/>
        from
        <include refid="Base_Table_Name"/>
    </sql>
    <!-- endregion -->

    <!-- region selectById  -->
    <select id="selectById" resultMap="BaseResultMap">
        <include refid="Base_Select_All"/>
        where ID = #{id}
    </select>
    <!-- endregion -->

    <!-- region selectByIds  -->
    <select id="selectByIds" resultMap="BaseResultMap">
        <include refid="Base_Select_All"/>
        where ID in
        <include refid="Base_Id_List"/>
    </select>
    <!-- endregion -->

    <!-- region selectAll  -->
    <select id="selectAll" resultMap="BaseResultMap">
        <include refid="Base_Select_All"/>
    </select>
    <!-- endregion -->

    <!-- region selectCount  -->
    <select id="selectCount" resultType="int">
        select count(*)
        from
        <include refid="Base_Table_Name"/>
        <where>
            <include refid="Base_Column_Where_Selective"/>
        </where>
    </select>
    <!-- endregion -->

    <!-- region select  -->
    <select id="select" resultMap="BaseResultMap">
        <include refid="Base_Select_All"/>
        <where>
            <include refid="Base_Column_Where_Selective"/>
        </where>
    </select>
    <!-- endregion -->

    <!-- region selectOne  -->
    <select id="selectOne" resultMap="BaseResultMap">
        <include refid="Base_Select_All"/>
        <where>
            <include refid="Base_Column_Where_Selective"/>
        </where>
    </select>
    <!-- endregion -->

    <!-- region selectOrderBy  -->
    <select id="selectOrderBy" resultMap="BaseResultMap">
        <include refid="Base_Select_All"/>
        <where>
            <include refid="Base_Column_Where_Selective_Param1"/>
        </where>
        <include refid="Base_Order_By"/>
    </select>
    <!-- endregion -->

    <!-- region selectByProperty  -->
    <select id="selectByProperty" resultMap="BaseResultMap">
        <include refid="Base_Select_All"/>
        <where>
            <include refid="Base_Column_Name"/>
            = #{propValue}
        </where>
    </select>
    <!-- endregion -->

    <!-- region selectByPropertyIn  -->
    <select id="selectByPropertyIn" resultMap="BaseResultMap">
        <include refid="Base_Select_All"/>
        <where>
            <include refid="Base_Column_Name"/>
            IN
            <foreach collection="propValues" open="(" close=")" separator="," item="propValue">
                #{propValue}
            </foreach>
        </where>
    </select>
    <!-- endregion -->

    <!-- region delete  -->
    <delete id="delete">
        delete
        from
        <include refid="Base_Table_Name"/>
        <where>
            <include refid="Base_Column_Where_Selective"/>
        </where>
    </delete>
    <!-- endregion -->

    <!-- region deleteById  -->
    <delete id="deleteById">
        delete
        from
        <include refid="Base_Table_Name"/>
        where ID = #{id}
    </delete>
    <!-- endregion -->

    <!-- region deleteByIds  -->
    <delete id="deleteByIds">
        delete
        from
        <include refid="Base_Table_Name"/>
        where ID in
        <include refid="Base_Id_List"/>
    </delete>
    <!-- endregion -->

    <!-- region insert  -->
    <insert id="insert" parameterType="com.yqjr.fin.mkmm.sales.entity.PersonMainReview">

        insert into
        <include refid="Base_Table_Name"/>
        (
        <include refid="Base_Column_List"/>
        )
        values (
        <include refid="Base_Column_Values"/>
        )
    </insert>
    <!-- endregion -->

    <!-- region updateById  -->
    <update id="updateById" parameterType="com.yqjr.fin.mkmm.sales.entity.PersonMainReview">
        update
        <include refid="Base_Table_Name"/>
        <set>
            <include refid="Base_Column_Set_Values"/>
        </set>
        where ID = #{id}
    </update>
    <!-- endregion -->

    <!-- region patchById  -->
    <update id="patchById" parameterType="com.yqjr.fin.mkmm.sales.entity.PersonMainReview">
        update
        <include refid="Base_Table_Name"/>
        <set>
            <include refid="Base_Column_Set_Values_Selective"/>
        </set>
        where ID = #{id}
    </update>
    <!-- endregion -->

    <!-- endregion BaseMapper -->

    <!-- region generated by CodeRobot  -->

    <!-- region 结果集映射  -->
    <resultMap id="PersonMainReviewResult" type="com.yqjr.fin.mkmm.sales.entity.PersonMainReview">
        <result property="id" column="ID"/><!--序列-->
        <result property="personCode" column="PERSON_CODE"/><!--人员代码-->
        <result property="personName" column="PERSON_NAME"/><!--人员姓名-->
        <result property="personIdcard" column="PERSON_IDCARD"/><!--身份证号-->
        <result property="remark" column="REMARK"/><!--备注-->
        <result property="personAge" column="PERSON_AGE"/><!--年龄-->
        <result property="personEthnic" column="PERSON_ETHNIC"/><!--民族-->
        <result property="personMarr" column="PERSON_MARR"/><!--婚姻状况-->
        <result property="personSchool" column="PERSON_SCHOOL"/><!--毕业学校-->
        <result property="personSubject" column="PERSON_SUBJECT"/><!--专业-->
        <result property="personEdu" column="PERSON_EDU"/><!--最高学历-->
        <result property="personEdulevel" column="PERSON_EDULEVEL"/><!--学位-->
        <result property="personWorktime" column="PERSON_WORKTIME"/><!--工龄-->
        <result property="personFirstworktime" column="PERSON_FIRSTWORKTIME"/><!--参加工作时间-->
        <result property="personAddress" column="PERSON_ADDRESS"/><!--家庭住址-->
        <result property="personHomephone" column="PERSON_HOMEPHONE"/><!--家庭电话-->
        <result property="personWorkphone" column="PERSON_WORKPHONE"/><!--工作电话-->
        <result property="personPhone" column="PERSON_PHONE"/><!--移动电话-->
        <result property="personEmail" column="PERSON_EMAIL"/><!--e-mail-->
        <result property="startTime" column="START_TIME"/><!--生效时间-->
        <result property="createTime" column="CREATE_TIME"/><!--创建时间-->
        <result property="modifyTime" column="MODIFY_TIME"/><!--修改时间-->
        <result property="creator" column="CREATOR"/><!--创建人-->
        <result property="modifier" column="MODIFIER"/><!--修改人-->
        <result property="personBirth" column="PERSON_BIRTH"/><!--出生日期-->
        <result property="loginName" column="LOGIN_NAME"/><!--登陆姓名-->
        <result property="company" column="COMPANY"/><!--所属公司-->
        <result property="personTeamReviewId" column="PERSON_TEAM_REVIEW_ID"/><!--所属公司-->
    </resultMap>
    <!-- endregion -->

    <!-- 查询条件判断 入参为对象 条件为模糊-->
    <sql id="queryLikePersonMainReview">

        <if test="id!=null and id!=''">
            AND ID LIKE CONCAT(#{id},'%')<!--序列-->
        </if>
        <if test="personCode!=null and personCode!=''">
            AND PERSON_CODE LIKE CONCAT(#{personCode},'%')<!--人员代码-->
        </if>
        <if test="personName!=null and personName!=''">
            AND PERSON_NAME LIKE CONCAT(#{personName},'%')<!--人员姓名-->
        </if>
        <if test="personIdcard!=null and personIdcard!=''">
            AND PERSON_IDCARD LIKE CONCAT(#{personIdcard},'%')<!--身份证号-->
        </if>
        <if test="remark!=null and remark!=''">
            AND REMARK LIKE CONCAT(#{remark},'%')<!--备注-->
        </if>
        <if test="personAge!=null and personAge!=''">
            AND PERSON_AGE LIKE CONCAT(#{personAge},'%')<!--年龄-->
        </if>
        <if test="personEthnic!=null and personEthnic!=''">
            AND PERSON_ETHNIC LIKE CONCAT(#{personEthnic},'%')<!--民族-->
        </if>
        <if test="personMarr!=null and personMarr!=''">
            AND PERSON_MARR LIKE CONCAT(#{personMarr},'%')<!--婚姻状况-->
        </if>
        <if test="personSchool!=null and personSchool!=''">
            AND PERSON_SCHOOL LIKE CONCAT(#{personSchool},'%')<!--毕业学校-->
        </if>
        <if test="personSubject!=null and personSubject!=''">
            AND PERSON_SUBJECT LIKE CONCAT(#{personSubject},'%')<!--专业-->
        </if>
        <if test="personEdu!=null and personEdu!=''">
            AND PERSON_EDU LIKE CONCAT(#{personEdu},'%')<!--最高学历-->
        </if>
        <if test="personEdulevel!=null and personEdulevel!=''">
            AND PERSON_EDULEVEL LIKE CONCAT(#{personEdulevel},'%')<!--学位-->
        </if>
        <if test="personWorktime!=null and personWorktime!=''">
            AND PERSON_WORKTIME LIKE CONCAT(#{personWorktime},'%')<!--工龄-->
        </if>
        <if test="personFirstworktime!=null and personFirstworktime!=''">
            AND PERSON_FIRSTWORKTIME LIKE CONCAT(#{personFirstworktime},'%')<!--参加工作时间-->
        </if>
        <if test="personAddress!=null and personAddress!=''">
            AND PERSON_ADDRESS LIKE CONCAT(#{personAddress},'%')<!--家庭住址-->
        </if>
        <if test="personHomephone!=null and personHomephone!=''">
            AND PERSON_HOMEPHONE LIKE CONCAT(#{personHomephone},'%')<!--家庭电话-->
        </if>
        <if test="personWorkphone!=null and personWorkphone!=''">
            AND PERSON_WORKPHONE LIKE CONCAT(#{personWorkphone},'%')<!--工作电话-->
        </if>
        <if test="personPhone!=null and personPhone!=''">
            AND PERSON_PHONE LIKE CONCAT(#{personPhone},'%')<!--移动电话-->
        </if>
        <if test="personEmail!=null and personEmail!=''">
            AND PERSON_EMAIL LIKE CONCAT(#{personEmail},'%')<!--e-mail-->
        </if>
        <if test="startTime!=null and startTime!=''">
            AND START_TIME LIKE CONCAT(#{startTime},'%')<!--生效时间-->
        </if>
        <if test="createTime!=null and createTime!=''">
            AND CREATE_TIME LIKE CONCAT(#{createTime},'%')<!--创建时间-->
        </if>
        <if test="modifyTime!=null and modifyTime!=''">
            AND MODIFY_TIME LIKE CONCAT(#{modifyTime},'%')<!--修改时间-->
        </if>
        <if test="creator!=null and creator!=''">
            AND CREATOR LIKE CONCAT(#{creator},'%')<!--创建人-->
        </if>
        <if test="modifier!=null and modifier!=''">
            AND MODIFIER LIKE CONCAT(#{modifier},'%')<!--修改人-->
        </if>
        <if test="personBirth!=null and personBirth!=''">
            AND PERSON_BIRTH LIKE CONCAT(#{personBirth},'%')<!--出生日期-->
        </if>
        <if test="loginName!=null and loginName!=''">
            AND LOGIN_NAME LIKE CONCAT(#{loginName},'%')<!--登陆姓名-->
        </if>
        <if test="company!=null and company!=''">
            and COMPANY LIKE CONCAT(#{company},'%')<!--所属公司-->
        </if>
        <if test="personTeamReviewId!=null and personTeamReviewId!=''">
            AND PERSON_TEAM_REVIEW_ID LIKE CONCAT(#{personTeamReviewId},'%')<!--所属公司-->
        </if>

    </sql>

    <!-- 按条件模糊查询所有 -->
    <select id="queryPersonMainReviewList" parameterType="com.yqjr.fin.mkmm.sales.entity.PersonMainReview"
            resultMap="PersonMainReviewResult">
        SELECT
        ID,<!--序列-->
        PERSON_CODE,<!--人员代码-->
        PERSON_NAME,<!--人员姓名-->
        PERSON_IDCARD,<!--身份证号-->
        REMARK,<!--备注-->
        PERSON_AGE,<!--年龄-->
        PERSON_ETHNIC,<!--民族-->
        PERSON_MARR,<!--婚姻状况-->
        PERSON_SCHOOL,<!--毕业学校-->
        PERSON_SUBJECT,<!--专业-->
        PERSON_EDU,<!--最高学历-->
        PERSON_EDULEVEL,<!--学位-->
        PERSON_WORKTIME,<!--工龄-->
        PERSON_FIRSTWORKTIME,<!--参加工作时间-->
        PERSON_ADDRESS,<!--家庭住址-->
        PERSON_HOMEPHONE,<!--家庭电话-->
        PERSON_WORKPHONE,<!--工作电话-->
        PERSON_PHONE,<!--移动电话-->
        PERSON_EMAIL,<!--e-mail-->
        START_TIME,<!--生效时间-->
        CREATE_TIME,<!--创建时间-->
        MODIFY_TIME,<!--修改时间-->
        CREATOR,<!--创建人-->
        MODIFIER,<!--修改人-->
        PERSON_BIRTH,<!--出生日期-->
        LOGIN_NAME,<!--登陆姓名-->
        COMPANY,<!--所属公司-->
        PERSON_TEAM_REVIEW_ID<!--人员团队审核表id-->
        FROM MKMM_PERSON_MAIN_REVIEW
        <where>
            <include refid="queryLikePersonMainReview"/>
        </where>
    </select>

    <!-- 按条件模糊统计所有条数 -->
    <select id="queryPersonMainReviewCount" parameterType="com.yqjr.fin.mkmm.sales.entity.PersonMainReview"
            resultType="int">
        SELECT
        count (id)
        FROM MKMM_PERSON_MAIN_REVIEW
        <where>
            <include refid="queryLikePersonMainReview"/>
        </where>
    </select>

    <!-- 批量删除，入参为数组  -->
    <delete id="dynamicDelete">
        delete from MKMM_PERSON_MAIN_REVIEW where id in
        <foreach collection="array" open="(" close=")" separator="," item="arr">
            #{arr}
        </foreach>
    </delete>

    <!-- 批量删除，入参为list  -->
    <delete id="dynamicDeleteList">
        delete from MKMM_PERSON_MAIN_REVIEW where id in
        <foreach collection="list" open="(" close=")" separator="," item="ids">
            #{ids}
        </foreach>
    </delete>

    <!-- 批量插入 -->
    <insert id="insertBatch" parameterType="java.util.List">
        <selectKey resultType="java.lang.Integer" keyProperty="id" order="AFTER">
            SELECT LAST_INSERT_ID()
        </selectKey>
        insert into MKMM_PERSON_MAIN_REVIEW
        (
        <include refid="Base_Column_List"/>
        )
        values
        <foreach collection="list" item="personMainReview" index="index" separator=",">
            (
            <include refid="Base_Column_Values"/>
            )
        </foreach>
    </insert>

    <!-- 插入单条数据，并返回主键ID -->
    <insert id="saveObj" useGeneratedKeys="true" keyProperty="id"
            parameterType="com.yqjr.fin.mkmm.sales.entity.PersonMainReview">
        insert into MKMM_PERSON_MAIN_REVIEW
        (
        <include refid="Base_Column_List"/>
        )
        values
        (
        <include refid="Base_Column_Values"/>
        )
    </insert>


    <!-- **********************************************************************-->
    <!-- ************* 在此下方为一对一、一对多查询方式 仅供参考***************-->
    <!-- **********************************************************************-->
    <!-- 一个博客（BlogInfo） 属于一个作者（Author） ，一个作者（Author） 有多篇文章（Post） -->
    <!--
  <resultMap type="com.foo.bean.BlogInfo" id="BlogInfo">
      <id column="blog_id" property="blogId" />
      <result column="title" property="title" />
      <association property="author" column="blog_author_id"
          javaType="com.foo.bean.Author" select="com.foo.bean.AuthorMapper.selectByPrimaryKey">
      </association>
      <collection property="posts" column="blog_id" ofType="com.foo.bean.Post"
          select="com.foo.bean.PostMapper.selectByBlogId">
      </collection>
  </resultMap>

  <select id="queryBlogInfoById" resultMap="BlogInfo" parameterType="java.math.BigDecimal">
      SELECT
      B.BLOG_ID,
      B.TITLE,
      B.AUTHOR_ID AS BLOG_AUTHOR_ID
      FROM BLOG B
      where B.BLOG_ID = 博客ID
  </select>

          上述方法存在N+1问题
      它的弊端也比较明显：即所谓的N+1问题。关联的嵌套查询显示得到一个结果集，然后根据这个结果集的每一条记录进行关联查询。
      现在假设嵌套查询就一个（即resultMap 内部就一个association标签），现查询的结果集返回条数为N，那么关联查询语句将会被执行N次，加上自身返回结果集查询1次，共需要访问数据库N+1次。如果N比较大的话，这样的数据库访问消耗是非常大的！所以使用这种嵌套语句查询的使用者一定要考虑慎重考虑，确保N值不会很大。
      以上面的例子为例，select 语句本身会返回com.foo.bean.BlogMapper.queryBlogInfoById 条数为1 的结果集，由于它有两条关联的语句查询，它需要共访问数据库 1*（1+1）=3次数据库。


       <resultMap type="com.foo.bean.BlogInfo" id="BlogInfo">
      <id column="blog_id" property="blogId"/>
      <result column="title" property="title"/>
      <association property="author" column="blog_author_id" javaType="com.foo.bean.Author">
          <id column="author_id" property="authorId"/>
          <result column="user_name" property="userName"/>
          <result column="password" property="password"/>
          <result column="email" property="email"/>
          <result column="biography" property="biography"/>
      </association>
      <collection property="posts" column="blog_post_id" ofType="com.foo.bean.Post">
          <id column="post_id" property="postId"/>
          <result column="blog_id" property="blogId"/>
          <result column="create_time" property="createTime"/>
          <result column="subject" property="subject"/>
          <result column="body" property="body"/>
          <result column="draft" property="draft"/>
      </collection>
      </resultMap>


      <select id="queryAllBlogInfo" resultMap="BlogInfo">
          SELECT
           B.BLOG_ID,
           B.TITLE,
           B.AUTHOR_ID AS BLOG_AUTHOR_ID,
           A.AUTHOR_ID,
           A.USER_NAME,
           A.PASSWORD,
           A.EMAIL,
           A.BIOGRAPHY,
           P.POST_ID,
           P.BLOG_ID AS BLOG_POST_ID ,
             P.CREATE_TIME,
           P.SUBJECT,
           P.BODY,
           P.DRAFT
      FROM BLOG B
      LEFT OUTER JOIN AUTHOR A
        ON B.AUTHOR_ID = A.AUTHOR_ID
      LEFT OUTER JOIN POST P
        ON P.BLOG_ID = B.BLOG_ID
      </select>
      -->

    <!-- **********************************************************************-->
    <!-- ************* 此线上方代码自动生成，在此下方编写自定义代码。***************-->
    <!-- **********************************************************************-->

    <resultMap id="personReviewDetailResultMap" type="com.yqjr.fin.mkmm.sales.vo.domin.PersonMainReviewVo">
        <id property="id" column="ID"/>
        <result property="personCode" column="PERSON_CODE"/><!--人员代码-->
        <result property="personName" column="PERSON_NAME"/><!--人员姓名-->
        <result property="personIdcard" column="PERSON_IDCARD"/><!--身份证号-->
        <result property="remark" column="REMARK"/><!--备注-->
        <result property="personAge" column="PERSON_AGE"/><!--年龄-->
        <result property="personEthnic" column="PERSON_ETHNIC"/><!--民族-->
        <result property="personMarr" column="PERSON_MARR"/><!--婚姻状况-->
        <result property="personSchool" column="PERSON_SCHOOL"/><!--毕业学校-->
        <result property="personSubject" column="PERSON_SUBJECT"/><!--专业-->
        <result property="personEdu" column="PERSON_EDU"/><!--最高学历-->
        <result property="personEdulevel" column="PERSON_EDULEVEL"/><!--学位-->
        <result property="personWorktime" column="PERSON_WORKTIME"/><!--工龄-->
        <result property="personFirstworktime" column="PERSON_FIRSTWORKTIME"/><!--参加工作时间-->
        <result property="personAddress" column="PERSON_ADDRESS"/><!--家庭住址-->
        <result property="personHomephone" column="PERSON_HOMEPHONE"/><!--家庭电话-->
        <result property="personWorkphone" column="PERSON_WORKPHONE"/><!--工作电话-->
        <result property="personPhone" column="PERSON_PHONE"/><!--移动电话-->
        <result property="personEmail" column="PERSON_EMAIL"/><!--e-mail-->
        <result property="personBirth" column="PERSON_BIRTH"/><!--出生日期-->
        <result property="loginName" column="LOGIN_NAME"/><!--出生日期-->
        <result property="startTime" column="PERSON_MAIN_START_TIME"/>
        <result property="createTime" column="PERSON_MAIN_CREATE_TIME"/>
        <result property="modifyTime" column="PERSON_MAIN_MODIFY_TIME"/>
        <result property="creator" column="PERSON_MAIN_CREATOR"/>
        <result property="modifier" column="PERSON_MAIN_MODIFIER"/>
        <result property="company" column="PERSON_MAIN_COMPANY"/>
        <result property="personTeamReviewId" column="MAIN_PERSON_TEAM_REVIEW_ID"/>
        <!--团队信息-->
        <association property="teamMain" javaType="com.yqjr.fin.mkmm.sales.entity.TeamMain">
            <result property="areaName" column="AREA_NAME"/><!--区域名称-->
            <result property="teamName" column="TEAM_NAME"/><!--团队名称-->
        </association>
        <association property="personTeamReview" javaType="com.yqjr.fin.mkmm.sales.entity.PersonTeamReview">
            <result property="id" column="PERSON_TEAM_ID"/><!--序列-->
            <result property="remark" column="PERSON_TEAM_REMARK"/><!--序列-->
            <result property="personCode" column="PERSON_TEAM_PERSON_CODE"/><!--人员代码-->
            <result property="company" column="PERSON_TEAM_COMPANY"/><!--公司代码-->
            <result property="areaName" column="PERSON_TEAM_AREA_NAME"/><!--区域名称-->
            <result property="teamName" column="PERSON_TEAM_TEAM_NAME"/><!--团队名称-->
            <result property="areaCode" column="AREA_CODE"/><!--区域代码-->
            <result property="teamCode" column="TEAM_CODE"/><!--团队代码-->
            <result property="personNature" column="PERSON_NATURE"/><!--人员性质（0团队负责人，1销售经理）-->
            <result property="personLevel" column="PERSON_LEVEL"/><!--人员级别-->
            <result property="personStatus" column="PERSON_STATUS"/><!--人员状态(0 无效,1 有效，2 注销)-->
            <result property="personCheckStart" column="PERSON_CHECK_START"/><!--考核开始时间-->
            <result property="personUptime" column="PERSON_UPTIME"/><!--上岗时间-->
            <result property="personCorrectime" column="PERSON_CORRECTIME"/><!--转正时间-->
            <result property="personTryStartime" column="PERSON_TRY_STARTIME"/><!--试用期开始时间-->
            <result property="personTryEndtime" column="PERSON_TRY_ENDTIME"/><!--试用期结束时间-->
            <result property="personJointime" column="PERSON_JOINTIME"/><!--加入我司时间-->
            <result property="reviewStatus" column="REVIEW_STATUS"/><!--审核状态（00驳回,01提交审核,02待审核,03审核中,04审核通过）-->
            <result property="startTime" column="START_TIME"/><!--生效时间-->
            <result property="createTime" column="CREATE_TIME"/><!--创建时间-->
            <result property="modifyTime" column="MODIFY_TIME"/><!--修改时间-->
            <result property="creator" column="CREATOR"/><!--创建人-->
            <result property="modifier" column="MODIFIER"/><!--修改人-->
            <result property="flag" column="FLAG"/><!--有效标识（如表记录不删除，以此区分,0无效，1有效）-->
            <result property="reviewType" column="REVIEW_TYPE"/><!--审核类型（01人员新增，02人员修改）-->
            <result property="flowId" column="FLOW_ID"/><!--工作流id-->
            <result property="createName" column="CREATE_NAME"/><!--工作流id-->
        </association>
        <!--负责城市-->
        <association property="personCityReview" javaType="com.yqjr.fin.mkmm.sales.entity.PersonCityReview">
            <result property="id" column="CITY_ID"/><!--序列-->
            <result property="cityCode" column="CITY_CODE"/><!--城市代码-->
            <result property="provinceCode" column="PROVINCE_CODE"/><!--城市代码-->
            <result property="cityName" column="CITY_NAME"/><!--城市名称-->
            <result property="personCode" column="CITY_PERSON_CODE"/><!--人员代码-->
            <result property="cityCode" column="CITY_CODE"/><!--城市编码-->
            <result property="startTime" column="CITY_START_TIME"/><!--生效时间-->
            <result property="createTime" column="CITY_CREATE_TIME"/><!--创建时间-->
            <result property="modifyTime" column="CITY_MODIFY_TIME"/><!--修改时间-->
            <result property="creator" column="CITY_CREATOR"/><!--创建人-->
            <result property="modifier" column="CITY_MODIFIER"/><!--修改人-->
            <result property="company" column="CITY_COMPANY"/><!--所属公司-->
            <result property="provinceCode" column="CITY_PROVINCE_CODE"/><!--所属公司-->
            <result property="personTeamReviewId" column="CITY_PERSON_TEAM_REVIEW_ID"/><!--所属公司-->
        </association>
        <!--负责品牌-->
        <association property="personBrandReview" javaType="com.yqjr.fin.mkmm.sales.entity.PersonBrandReview">
            <result property="id" column="BRAND_ID"/><!--品牌代码-->
            <result property="brandCode" column="BRAND_CODE"/><!--品牌代码-->
            <result property="brandName" column="BRAND_NAME"/><!--品牌名称-->
            <result property="personCode" column="BRAND_PERSON_CODE"/>
            <result property="startTime" column="BRAND_START_TIME"/>
            <result property="personCode" column="BRAND_PERSON_CODE"/>
            <result property="startTime" column="BRAND_START_TIME"/>
            <result property="createTime" column="BRAND_CREATE_TIME"/>
            <result property="modifyTime" column="BRAND_MODIFY_TIME"/>
            <result property="creator" column="BRAND_CREATOR"/>
            <result property="modifier" column="BRAND_MODIFIER"/>
            <result property="company" column="BRAND_COMPANY"/>
            <result property="personTeamReviewId" column="BRAND_PERSON_TEAM_REVIEW_ID"/>
        </association>
        <collection property="workFlow" ofType="com.yqjr.fin.mkmm.sales.entity.WorkFlow">
            <result property="id" column="WORK_ID"/><!--工作流ID-->
            <result property="reviewLevel" column="REVIEW_LEVEL"/><!--工作流级别-->
            <result property="type" column="TYPE"/><!--审批意见-->
            <result property="modifyTime" column="MODIFY_TIME1"/><!--审批意见-->
            <result property="reviewStatus" column="REVIEW_STATUS1"/><!--审批意见-->
            <result property="modifierName" column="MODIFIER_NAME"/><!--审批意见-->
            <result property="opinion" column="OPINION"/><!--审批意见-->
            <result property="modifierName" column="MODIFIER_NAME"/><!--审批意见-->
            <result property="modifyTime" column="MODIFY_TIME"/><!--审批意见-->
        </collection>
    </resultMap>

    <sql id="Base_Person_Review">
        A.AREA_NAME AS AREA_NAME,
        A.TEAM_NAME AS TEAM_NAME,
        B.ID AS PERSON_TEAM_ID,
        B.REMARK AS PERSON_TEAM_REMARK,
        B.PERSON_CODE AS PERSON_TEAM_PERSON_CODE,
        B.AREA_NAME AS PERSON_TEAM_AREA_NAME,
        B.TEAM_NAME AS PERSON_TEAM_TEAM_NAME,
        B.COMPANY AS PERSON_TEAM_COMPANY,
        B.COMPANY_CODE AS COMPANY_CODE,
        B.TEAM_CODE AS TEAM_CODE,
        B.PERSON_NATURE AS PERSON_NATURE,
        B.PERSON_LEVEL AS PERSON_LEVEL,
        B.PERSON_STATUS AS PERSON_STATUS,
        B.PERSON_CHECK_START AS PERSON_CHECK_START,
        B.PERSON_UPTIME AS PERSON_UPTIME,
        B.PERSON_CORRECTIME AS PERSON_CORRECTIME,
        B.PERSON_TRY_STARTIME AS PERSON_TRY_STARTIME,
        B.PERSON_TRY_ENDTIME AS PERSON_TRY_ENDTIME,
        B.PERSON_JOINTIME AS PERSON_JOINTIME,
        B.REVIEW_STATUS AS REVIEW_STATUS,
        B.START_TIME AS START_TIME,
        B.CREATE_TIME AS CREATE_TIME,
        B.MODIFY_TIME AS MODIFY_TIME,
        B.CREATOR AS CREATOR,
        B.MODIFIER AS MODIFIER,
        B.FLAG AS FLAG,
        B.REVIEW_TYPE AS REVIEW_TYPE,
        B.FLOW_ID AS FLOW_ID,
        B.AREA_CODE AS AREA_CODE,
        B.CREATE_NAME AS CREATE_NAME,
        C.ID AS ID,
        C.LOGIN_NAME as LOGIN_NAME,
        C.PERSON_CODE AS PERSON_CODE,
        C.PERSON_NAME AS PERSON_NAME,
        C.PERSON_IDCARD AS PERSON_IDCARD,
        C.REMARK AS REMARK,
        C.PERSON_AGE AS PERSON_AGE,
        C.PERSON_ETHNIC AS PERSON_ETHNIC,
        C.PERSON_MARR AS PERSON_MARR,
        C.PERSON_SCHOOL AS PERSON_SCHOOL,
        C.PERSON_SUBJECT AS PERSON_SUBJECT,
        C.PERSON_EDU AS PERSON_EDU,
        C.PERSON_EDULEVEL AS PERSON_EDULEVEL,
        C.PERSON_WORKTIME AS PERSON_WORKTIME,
        C.PERSON_FIRSTWORKTIME AS PERSON_FIRSTWORKTIME,
        C.PERSON_ADDRESS AS PERSON_ADDRESS,
        C.PERSON_HOMEPHONE AS PERSON_HOMEPHONE,
        C.PERSON_WORKPHONE AS PERSON_WORKPHONE,
        C.PERSON_PHONE AS PERSON_PHONE,
        C.PERSON_EMAIL AS PERSON_EMAIL,
        C.PERSON_BIRTH AS PERSON_BIRTH,
        C.START_TIME AS PERSON_MAIN_START_TIME,
        C.CREATE_TIME AS PERSON_MAIN_CREATE_TIME,
        C.MODIFY_TIME AS PERSON_MAIN_MODIFY_TIME,
        C.CREATOR AS PERSON_MAIN_CREATOR,
        C.MODIFIER AS PERSON_MAIN_MODIFIER,
        C.COMPANY AS PERSON_MAIN_COMPANY,
        C.PERSON_TEAM_REVIEW_ID AS MAIN_PERSON_TEAM_REVIEW_ID,
        D.ID AS CITY_ID,
        D.CITY_NAME AS CITY_NAME,
        D.CITY_CODE AS CITY_CODE,
        D.PROVINCE_CODE AS PROVINCE_CODE,
        D.PERSON_CODE AS CITY_PERSON_CODE,
        D.START_TIME AS CITY_START_TIME,
        D.CREATE_TIME AS CITY_CREATE_TIME,
        D.MODIFY_TIME AS CITY_MODIFY_TIME,
        D.CREATOR AS CITY_CREATOR,
        D.MODIFIER AS CITY_MODIFIER,
        D.COMPANY AS CITY_COMPANY,
        D.PROVINCE_CODE AS CITY_PROVINCE_CODE,
        D.PERSON_TEAM_REVIEW_ID AS CITY_PERSON_TEAM_REVIEW_ID,
        E.ID AS BRAND_ID,
        E.BRAND_NAME AS BRAND_NAME,
        E.BRAND_CODE AS BRAND_CODE,
        E.PERSON_CODE AS BRAND_PERSON_CODE,
        E.START_TIME AS BRAND_START_TIME,
        E.CREATE_TIME AS BRAND_CREATE_TIME,
        E.MODIFY_TIME AS BRAND_MODIFY_TIME,
        E.CREATOR AS BRAND_CREATOR,
        E.MODIFIER AS BRAND_MODIFIER,
        E.COMPANY AS BRAND_COMPANY,
        E.PERSON_TEAM_REVIEW_ID AS BRAND_PERSON_TEAM_REVIEW_ID,
        F.ID AS WORK_ID,
        F.REVIEW_LEVEL AS REVIEW_LEVEL,
        F.TYPE AS TYPE,
        F.REVIEW_STATUS AS REVIEW_STATUS1,
        F.MODIFY_TIME AS MODIFY_TIME1,
        F.OPINION AS OPINION,
        F.MODIFIER_NAME AS MODIFIER_NAME,
        F.MODIFY_TIME AS MODIFY_TIME
    </sql>

    <!--查询审核销售人员信息-->
    <select id="selectPersonReviewList" parameterType="com.yqjr.fin.mkmm.sales.condition.PersonWorkCondition"
            resultMap="personReviewDetailResultMap">
        select
        <include refid="Base_Person_Review"/>
        from MKMM_TEAM_MAIN A,
        MKMM_PERSON_TEAM_REVIEW B,
        MKMM_PERSON_MAIN_REVIEW C,
        MKMM_PERSON_CITY_REVIEW D,
        MKMM_PERSON_BRAND_REVIEW E,
        MKMM_WORK_FLOW F,
        (SELECT REVIEW_ID,MAX(ID) AS MAX_ID FROM MKMM_WORK_FLOW GROUP BY REVIEW_ID
        ) G
        WHERE A.TEAM_CODE = B.TEAM_CODE
        AND B.PERSON_CODE = C.PERSON_CODE
        AND C.PERSON_CODE = D.PERSON_CODE(+)
        AND C.PERSON_CODE = E.PERSON_CODE(+)
        AND F.REVIEW_ID =G.REVIEW_ID
        AND F.ID =G.MAX_ID
        AND F.REVIEW_ID =C.PERSON_CODE
        AND B.FLAG ='1'
        AND F.REVIEW_STATUS in('02','03')
        <if test="personCode != null and personCode!=''">
            AND C.PERSON_CODE LIKE CONCAT(#{personCode},'%')
        </if>
        <if test="personName != null and personName!=''">
            AND C.PERSON_NAME LIKE CONCAT(#{personName},'%')
        </if>
        <if test="reviewType != null and reviewType!=''">
            AND REVIEW_TYPE = #{reviewType}
        </if>
        <if test="reviewStatus != null and reviewStatus!=''">
            AND REVIEW_STATUS = #{reviewStatus}
        </if>

    </select>


    <resultMap id="personReviewTableResultMap" type="com.yqjr.fin.mkmm.sales.vo.domin.PersonMainReviewVo">
        <id property="id" column="ID"/>
        <result property="personCode" column="PERSON_CODE"/><!--人员代码-->
        <result property="personName" column="PERSON_NAME"/><!--人员姓名-->
        <result property="personIdcard" column="PERSON_IDCARD"/><!--身份证号-->
        <result property="remark" column="REMARK"/><!--备注-->
        <result property="personAge" column="PERSON_AGE"/><!--年龄-->
        <result property="personEthnic" column="PERSON_ETHNIC"/><!--民族-->
        <result property="personMarr" column="PERSON_MARR"/><!--婚姻状况-->
        <result property="personSchool" column="PERSON_SCHOOL"/><!--毕业学校-->
        <result property="personSubject" column="PERSON_SUBJECT"/><!--专业-->
        <result property="personEdu" column="PERSON_EDU"/><!--最高学历-->
        <result property="personEdulevel" column="PERSON_EDULEVEL"/><!--学位-->
        <result property="personWorktime" column="PERSON_WORKTIME"/><!--工龄-->
        <result property="personFirstworktime" column="PERSON_FIRSTWORKTIME"/><!--参加工作时间-->
        <result property="personAddress" column="PERSON_ADDRESS"/><!--家庭住址-->
        <result property="personHomephone" column="PERSON_HOMEPHONE"/><!--家庭电话-->
        <result property="personWorkphone" column="PERSON_WORKPHONE"/><!--工作电话-->
        <result property="personPhone" column="PERSON_PHONE"/><!--移动电话-->
        <result property="personEmail" column="PERSON_EMAIL"/><!--e-mail-->
        <result property="personBirth" column="PERSON_BIRTH"/><!--出生日期-->
        <!--团队信息-->
        <association property="teamMain" javaType="com.yqjr.fin.mkmm.sales.entity.TeamMain">
            <result property="areaName" column="AREA_NAME"/><!--区域名称-->
            <result property="teamName" column="TEAM_NAME"/><!--团队名称-->
        </association>
        <association property="personTeamReview" javaType="com.yqjr.fin.mkmm.sales.entity.PersonTeamReview">
            <result property="company" column="COMPANY"/><!--公司代码-->
            <result property="areaCode" column="AREA_CODE"/><!--区域代码-->
            <result property="teamCode" column="TEAM_CODE"/><!--团队代码-->
            <result property="personNature" column="PERSON_NATURE"/><!--人员性质（0团队负责人，1销售经理）-->
            <result property="personLevel" column="PERSON_LEVEL"/><!--人员级别-->
            <result property="personStatus" column="PERSON_STATUS"/><!--人员状态(0 无效,1 有效，2 注销)-->
            <result property="personCheckStart" column="PERSON_CHECK_START"/><!--考核开始时间-->
            <result property="personUptime" column="PERSON_UPTIME"/><!--上岗时间-->
            <result property="personCorrectime" column="PERSON_CORRECTIME"/><!--转正时间-->
            <result property="personTryStartime" column="PERSON_TRY_STARTIME"/><!--试用期开始时间-->
            <result property="personTryEndtime" column="PERSON_TRY_ENDTIME"/><!--试用期结束时间-->
            <result property="personJointime" column="PERSON_JOINTIME"/><!--加入我司时间-->
            <result property="reviewStatus" column="REVIEW_STATUS"/><!--审核状态（00驳回,01提交审核,02待审核,03审核中,04审核通过）-->
            <result property="startTime" column="START_TIME"/><!--生效时间-->
            <result property="createTime" column="CREATE_TIME"/><!--创建时间-->
            <result property="modifyTime" column="MODIFY_TIME"/><!--修改时间-->
            <result property="creator" column="CREATOR"/><!--创建人-->
            <result property="modifier" column="MODIFIER"/><!--修改人-->
            <result property="flag" column="FLAG"/><!--有效标识（如表记录不删除，以此区分,0无效，1有效）-->
            <result property="reviewType" column="REVIEW_TYPE"/><!--审核类型（01人员新增，02人员修改）-->
            <result property="flowId" column="FLOW_ID"/><!--工作流id-->
            <result property="createName" column="CREATE_NAME"/><!--工作流id-->
        </association>
        <collection property="workFlow" ofType="com.yqjr.fin.mkmm.sales.entity.WorkFlow">
            <result property="id" column="WORK_ID"/><!--工作流ID-->
            <result property="reviewLevel" column="REVIEW_LEVEL"/><!--工作流级别-->
            <result property="type" column="TYPE"/><!--审批意见-->
            <result property="modifyTime" column="MODIFY_TIME1"/><!--审批意见-->
            <result property="reviewStatus" column="REVIEW_STATUS1"/><!--审批意见-->
            <result property="modifierName" column="MODIFIER_NAME"/><!--审批意见-->
            <result property="opinion" column="OPINION"/><!--审批意见-->
        </collection>
    </resultMap>
    <sql id="Base_Person_Review_Table">
        A.AREA_NAME AS AREA_NAME,
        A.TEAM_NAME AS TEAM_NAME,
        B.COMPANY_CODE AS COMPANY_CODE,
        B.TEAM_CODE AS TEAM_CODE,
        B.PERSON_NATURE AS PERSON_NATURE,
        B.PERSON_LEVEL AS PERSON_LEVEL,
        B.PERSON_STATUS AS PERSON_STATUS,
        B.PERSON_CHECK_START AS PERSON_CHECK_START,
        B.PERSON_UPTIME AS PERSON_UPTIME,
        B.PERSON_CORRECTIME AS PERSON_CORRECTIME,
        B.PERSON_TRY_STARTIME AS PERSON_TRY_STARTIME,
        B.PERSON_TRY_ENDTIME AS PERSON_TRY_ENDTIME,
        B.PERSON_JOINTIME AS PERSON_JOINTIME,
        B.REVIEW_STATUS AS REVIEW_STATUS,
        B.START_TIME AS START_TIME,
        B.CREATE_TIME AS CREATE_TIME,
        B.MODIFY_TIME AS MODIFY_TIME,
        B.CREATOR AS CREATOR,
        B.MODIFIER AS MODIFIER,
        B.FLAG AS FLAG,
        B.REVIEW_TYPE AS REVIEW_TYPE,
        B.FLOW_ID AS FLOW_ID,
        B.AREA_CODE AS AREA_CODE,
        B.CREATE_NAME AS CREATE_NAME,
        B.ID AS ID,
        C.PERSON_CODE AS PERSON_CODE,
        C.PERSON_NAME AS PERSON_NAME,
        C.PERSON_IDCARD AS PERSON_IDCARD,
        C.REMARK AS REMARK,
        C.PERSON_AGE AS PERSON_AGE,
        C.PERSON_ETHNIC AS PERSON_ETHNIC,
        C.PERSON_MARR AS PERSON_MARR,
        C.PERSON_SCHOOL AS PERSON_SCHOOL,
        C.PERSON_SUBJECT AS PERSON_SUBJECT,
        C.PERSON_EDU AS PERSON_EDU,
        C.PERSON_EDULEVEL AS PERSON_EDULEVEL,
        C.PERSON_WORKTIME AS PERSON_WORKTIME,
        C.PERSON_FIRSTWORKTIME AS PERSON_FIRSTWORKTIME,
        C.PERSON_ADDRESS AS PERSON_ADDRESS,
        C.PERSON_HOMEPHONE AS PERSON_HOMEPHONE,
        C.PERSON_WORKPHONE AS PERSON_WORKPHONE,
        C.PERSON_PHONE AS PERSON_PHONE,
        C.PERSON_EMAIL AS PERSON_EMAIL,
        C.PERSON_BIRTH AS PERSON_BIRTH,
        F.ID AS WORK_ID,
        F.REVIEW_LEVEL AS REVIEW_LEVEL,
        F.TYPE AS TYPE,
        F.REVIEW_STATUS AS REVIEW_STATUS1,
        F.MODIFY_TIME AS MODIFY_TIME1,
        F.OPINION AS OPINION
    </sql>
    <!--查询审核销售人员列表-->
    <select id="selectPersonReviewTable" parameterType="com.yqjr.fin.mkmm.sales.condition.PersonWorkCondition"
            resultMap="personReviewTableResultMap">
        select
        <include refid="Base_Person_Review_Table"/>
        from MKMM_TEAM_MAIN A,
        MKMM_PERSON_TEAM_REVIEW B,
        MKMM_PERSON_MAIN_REVIEW C,
        MKMM_WORK_FLOW F,
        (SELECT REVIEW_ID,MAX(ID) AS MAX_ID FROM MKMM_WORK_FLOW GROUP BY REVIEW_ID
        ) G
        WHERE A.TEAM_CODE = B.TEAM_CODE
        AND B.PERSON_CODE = C.PERSON_CODE
        AND F.REVIEW_ID =G.REVIEW_ID
        AND F.ID =G.MAX_ID
        AND F.REVIEW_ID =C.PERSON_CODE
        AND B.FLAG ='1'
        AND F.REVIEW_STATUS in('02','03')
        <if test="personCode != null and personCode != '' ">
            AND C.PERSON_CODE  LIKE CONCAT(#{personCode},'%')
        </if>
        <if test="personName != null and personName != '' ">
            AND C.PERSON_NAME  LIKE CONCAT(#{personName},'%')
        </if>
        <if test="reviewType != null and reviewType != ''">
            AND B.REVIEW_TYPE = #{reviewType}
        </if>
        <if test="reviewStatus != null and reviewStatus != ''">
            AND B.REVIEW_STATUS = #{reviewStatus}
        </if>
        <if test="reviewLevel !=null and reviewLevel != ''">
            AND F.REVIEW_LEVEL = #{reviewLevel}
        </if>
        <if test="company !=null and company != ''">
            AND B.COMPANY = #{company}
        </if>
        <if test="areaCode !=null and areaCode != ''">
            AND B.AREA_CODE = #{areaCode}
        </if>
        ORDER BY C.PERSON_CODE DESC
    </select>

    <!--通过personCode查询审核和审核中的人员-->
    <select id="selectPersonReviewByPersonCode" parameterType="java.lang.String"
            resultMap="personReviewDetailResultMap">
        select
        <include refid="Base_Person_Review"/>
        from MKMM_TEAM_MAIN A,
        MKMM_PERSON_TEAM_REVIEW B,
        MKMM_PERSON_MAIN_REVIEW C,
        MKMM_PERSON_CITY_REVIEW D,
        MKMM_PERSON_BRAND_REVIEW E,
        MKMM_WORK_FLOW F,
        (SELECT REVIEW_ID,MAX(ID) AS MAX_ID FROM MKMM_WORK_FLOW GROUP BY REVIEW_ID
        ) G
        WHERE A.TEAM_CODE = B.TEAM_CODE
        AND B.PERSON_CODE = C.PERSON_CODE
        AND C.PERSON_CODE = D.PERSON_CODE(+)
        AND C.PERSON_CODE = E.PERSON_CODE(+)
        AND F.REVIEW_ID =G.REVIEW_ID
        AND F.ID =G.MAX_ID
        AND F.REVIEW_ID =C.PERSON_CODE
        AND B.FLAG ='1'
        AND F.REVIEW_STATUS in('02','03')
        AND C.PERSON_CODE = #{personCode,jdbcType=VARCHAR}
    </select>

    <resultMap id="TeamResultMap" type="com.yqjr.fin.mkmm.sales.entity.TeamMain">
        <result property="areaCode" column="AREA_CODE"/><!--归属区域代码-->
        <result property="areaName" column="AREA_NAME"/><!--归属区域名称-->
        <result property="teamCode" column="TEAM_CODE"/><!--团队代码-->
        <result property="teamName" column="TEAM_NAME"/><!--团队名称-->
    </resultMap>

    <!--查询登录人员所在区域内下辖团队-->
    <select id="selectTeamByAreaOfPerson" parameterType="java.lang.String" resultMap="TeamResultMap">
        select AREA_CODE,AREA_NAME,TEAM_CODE,TEAM_NAME
        from mkmm_team_main a
        <where>
            <if test="personName != null">
                a.area_code=#{areaCode,jdbcType=VARCHAR}
            </if>
        </where>
    </select>

    <resultMap id="BrandResultMap" type="com.yqjr.fin.mkmm.sales.entity.BrandMain">
        <result property="ncarbrandid" column="NCARBRANDID"/><!--品牌代码-->
        <result property="ncarbrandname" column="NCARBRANDNAME"/><!--品牌名称-->
    </resultMap>

    <!--查询品牌列表-->
    <select id="selectBrands" resultMap="BrandResultMap">
      select distinct a.ncarbrandid,a.ncarbrandname from  MKMM_BRAND_MAIN a
    </select>


    <resultMap id="ProcessResultMap" type="com.yqjr.fin.mkmm.sales.vo.domin.PersonMainReviewProcessVo">
        <result property="id" column="ID"/><!--序列-->
        <result property="personCode" column="PERSON_CODE"/><!--人员代码-->
        <result property="personName" column="PERSON_NAME"/><!--人员姓名-->
        <result property="personIdcard" column="PERSON_IDCARD"/><!--身份证号-->
        <result property="remark" column="REMARK"/><!--备注-->
        <result property="personAge" column="PERSON_AGE"/><!--年龄-->
        <result property="personEthnic" column="PERSON_ETHNIC"/><!--民族-->
        <result property="personMarr" column="PERSON_MARR"/><!--婚姻状况-->
        <result property="personSchool" column="PERSON_SCHOOL"/><!--毕业学校-->
        <result property="personSubject" column="PERSON_SUBJECT"/><!--专业-->
        <result property="personEdu" column="PERSON_EDU"/><!--最高学历-->
        <result property="personEdulevel" column="PERSON_EDULEVEL"/><!--学位-->
        <result property="personWorktime" column="PERSON_WORKTIME"/><!--工龄-->
        <result property="personFirstworktime" column="PERSON_FIRSTWORKTIME"/><!--参加工作时间-->
        <result property="personAddress" column="PERSON_ADDRESS"/><!--家庭住址-->
        <result property="personHomephone" column="PERSON_HOMEPHONE"/><!--家庭电话-->
        <result property="personWorkphone" column="PERSON_WORKPHONE"/><!--工作电话-->
        <result property="personPhone" column="PERSON_PHONE"/><!--移动电话-->
        <result property="personEmail" column="PERSON_EMAIL"/><!--e-mail-->
        <result property="startTime" column="START_TIME"/><!--生效时间-->
        <result property="createTime" column="CREATE_TIME"/><!--创建时间-->
        <result property="modifyTime" column="MODIFY_TIME"/><!--修改时间-->
        <result property="creator" column="CREATOR"/><!--创建人-->
        <result property="modifier" column="MODIFIER"/><!--修改人-->
        <result property="personBirth" column="PERSON_BIRTH"/><!--出生日期-->
        <result property="createTime" column="CREATE_TIME"/><!--创建时间-->
        <result property="teamCode" column="TEAM_CODE"/><!--团队号-->
        <result property="reviewStatus" column="REVIEW_STATUS"/><!--审核状态-->
        <result property="flag" column="FLAG"/>
        <result property="reviewType" column="REVIEW_TYPE"/><!--审核类型-->
        <result property="flowId" column="FLOW_ID"/>
        <result property="personTeamReviewId" column="PERSON_TEAM_REVIEW_ID"/>
    </resultMap>

    <sql id="Person_Process_Review">
        C.ID AS ID,
        C.PERSON_CODE AS PERSON_CODE,
        C.PERSON_NAME AS PERSON_NAME,
        C.PERSON_IDCARD AS PERSON_IDCARD,
        C.REMARK AS REMARK,
        C.PERSON_AGE AS PERSON_AGE,
        C.PERSON_ETHNIC AS PERSON_ETHNIC,
        C.PERSON_MARR AS PERSON_MARR,
        C.PERSON_SCHOOL AS PERSON_SCHOOL,
        C.PERSON_SUBJECT AS PERSON_SUBJECT,
        C.PERSON_EDU AS PERSON_EDU,
        C.PERSON_EDULEVEL AS PERSON_EDULEVEL,
        C.PERSON_WORKTIME AS PERSON_WORKTIME,
        C.PERSON_FIRSTWORKTIME AS PERSON_FIRSTWORKTIME,
        C.PERSON_ADDRESS AS PERSON_ADDRESS,
        C.PERSON_HOMEPHONE AS PERSON_HOMEPHONE,
        C.PERSON_WORKPHONE AS PERSON_WORKPHONE,
        C.PERSON_PHONE AS PERSON_PHONE,
        C.PERSON_EMAIL AS PERSON_EMAIL,
        C.PERSON_BIRTH AS PERSON_BIRTH,
        C.CREATE_TIME AS CREATE_TIME,
        B.TEAM_CODE AS TEAM_CODE,
        B.REVIEW_STATUS AS REVIEW_STATUS,
        B.FLAG AS FLAG,
        C.START_TIME AS START_TIME,
        B.REVIEW_TYPE AS REVIEW_TYPE,
        C.PERSON_TEAM_REVIEW_ID AS PERSON_TEAM_REVIEW_ID,
        B.FLOW_ID AS FLOW_ID
    </sql>

    <select id="selectPersonReviewProcessList" parameterType="com.yqjr.fin.mkmm.sales.condition.PersonWorkCondition"
            resultMap="ProcessResultMap">
        select
        <include refid="Person_Process_Review"/>
        from MKMM_PERSON_MAIN_REVIEW C
        JOIN MKMM_PERSON_TEAM_REVIEW B
        on C.PERSON_TEAM_REVIEW_ID = B.id
        <where>
            B.FLAG = '1'
            <if test="personCode != null and personCode !='' ">
                and C.PERSON_CODE LIKE CONCAT(#{personCode},'%')
            </if>
            <if test="personName != null and personName !='' ">
                and C.PERSON_NAME  LIKE CONCAT(#{personName},'%')
            </if>
            <if test="reviewType != null and reviewType !='' ">
                and B.REVIEW_TYPE = #{reviewType,jdbcType=VARCHAR}
            </if>
            <if test="reviewStatus != null and reviewStatus !='' ">
                and B.REVIEW_STATUS = #{reviewStatus,jdbcType=VARCHAR}
            </if>
            <if test="areaCode != null and areaCode !='' ">
                and B.AREA_CODE = #{areaCode,jdbcType=VARCHAR}
            </if>
            <if test="company != null and company !='' ">
                and B.COMPANY = #{company,jdbcType=VARCHAR}
            </if>
            <if test="creator != null and creator !='' ">
                and B.CREATOR = #{creator,jdbcType=VARCHAR}
            </if>

        </where>
        ORDER BY C.PERSON_CODE DESC
    </select>

    <resultMap id="personReviewProcessResultMap" type="com.yqjr.fin.mkmm.sales.vo.domin.PersonMainReviewVo">
        <id property="id" column="ID"/>
        <result property="personCode" column="PERSON_CODE"/><!--人员代码-->
        <result property="personName" column="PERSON_NAME"/><!--人员姓名-->
        <result property="personIdcard" column="PERSON_IDCARD"/><!--身份证号-->
        <result property="remark" column="REMARK"/><!--备注-->
        <result property="personAge" column="PERSON_AGE"/><!--年龄-->
        <result property="personEthnic" column="PERSON_ETHNIC"/><!--民族-->
        <result property="personMarr" column="PERSON_MARR"/><!--婚姻状况-->
        <result property="personSchool" column="PERSON_SCHOOL"/><!--毕业学校-->
        <result property="personSubject" column="PERSON_SUBJECT"/><!--专业-->
        <result property="personEdu" column="PERSON_EDU"/><!--最高学历-->
        <result property="personEdulevel" column="PERSON_EDULEVEL"/><!--学位-->
        <result property="personWorktime" column="PERSON_WORKTIME"/><!--工龄-->
        <result property="personFirstworktime" column="PERSON_FIRSTWORKTIME"/><!--参加工作时间-->
        <result property="personAddress" column="PERSON_ADDRESS"/><!--家庭住址-->
        <result property="personHomephone" column="PERSON_HOMEPHONE"/><!--家庭电话-->
        <result property="personWorkphone" column="PERSON_WORKPHONE"/><!--工作电话-->
        <result property="personPhone" column="PERSON_PHONE"/><!--移动电话-->
        <result property="personEmail" column="PERSON_EMAIL"/><!--e-mail-->
        <result property="personBirth" column="PERSON_BIRTH"/><!--出生日期-->
        <result property="startTime" column="START_TIME"/><!--出生日期-->
        <!--团队信息-->
        <association property="teamMain" javaType="com.yqjr.fin.mkmm.sales.entity.TeamMain">
            <result property="areaName" column="AREA_NAME"/><!--区域名称-->
            <result property="teamName" column="TEAM_NAME"/><!--团队名称-->
        </association>
        <association property="personTeamReview" javaType="com.yqjr.fin.mkmm.sales.entity.PersonTeamReview">
            <result property="id" column="TEAM_ID"/>
            <result property="company" column="COMPANY"/><!--公司代码-->
            <result property="areaCode" column="AREA_CODE"/><!--区域代码-->
            <result property="teamCode" column="TEAM_CODE"/><!--团队代码-->
            <result property="personNature" column="PERSON_NATURE"/><!--人员性质（0团队负责人，1销售经理）-->
            <result property="personLevel" column="PERSON_LEVEL"/><!--人员级别-->
            <result property="personStatus" column="PERSON_STATUS"/><!--人员状态(0 无效,1 有效，2 注销)-->
            <result property="personCheckStart" column="PERSON_CHECK_START"/><!--考核开始时间-->
            <result property="personUptime" column="PERSON_UPTIME"/><!--上岗时间-->
            <result property="personCorrectime" column="PERSON_CORRECTIME"/><!--转正时间-->
            <result property="personTryStartime" column="PERSON_TRY_STARTIME"/><!--试用期开始时间-->
            <result property="personTryEndtime" column="PERSON_TRY_ENDTIME"/><!--试用期结束时间-->
            <result property="personJointime" column="PERSON_JOINTIME"/><!--加入我司时间-->
            <result property="reviewStatus" column="REVIEW_STATUS"/><!--审核状态（00驳回,01提交审核,02待审核,03审核中,04审核通过）-->
            <result property="startTime" column="START_TIME"/><!--生效时间-->
            <result property="createTime" column="CREATE_TIME"/><!--创建时间-->
            <result property="modifyTime" column="MODIFY_TIME"/><!--修改时间-->
            <result property="createName" column="CREATE_NAME"/><!--创建人-->
            <result property="creator" column="CREATOR"/><!--创建人-->
            <result property="modifier" column="MODIFIER"/><!--修改人-->
            <result property="flag" column="FLAG"/><!--有效标识（如表记录不删除，以此区分,0无效，1有效）-->
            <result property="reviewType" column="REVIEW_TYPE"/><!--审核类型（01人员新增，02人员修改）-->
            <result property="flowId" column="FLOW_ID"/><!--工作流id-->
        </association>
        <!--负责城市-->
        <association property="personCityReview" javaType="com.yqjr.fin.mkmm.sales.entity.PersonCityReview">
            <result property="cityCode" column="CITY_CODE"/><!--城市代码-->
            <result property="cityName" column="CITY_NAME"/><!--城市名称-->
        </association>
        <!--负责品牌-->
        <association property="personBrandReview" javaType="com.yqjr.fin.mkmm.sales.entity.PersonBrandReview">
            <result property="brandCode" column="BRAND_CODE"/><!--品牌代码-->
            <result property="brandName" column="BRAND_NAME"/><!--品牌名称-->
        </association>

        <collection property="workFlow" ofType="com.yqjr.fin.mkmm.sales.entity.WorkFlow">
            <result property="id" column="WORK_ID"/><!--工作流ID-->
            <result property="reviewLevel" column="REVIEW_LEVEL"/><!--工作流级别-->
            <result property="type" column="TYPE"/><!--审批意见-->
            <result property="modifyTime" column="MODIFY_TIME"/><!--审批意见-->
            <result property="reviewStatus" column="REVIEW_STATUS"/><!--审批意见-->
            <result property="modifierName" column="MODIFIER_NAME"/><!--审批意见-->
            <result property="opinion" column="OPINION"/><!--审批意见-->
        </collection>
    </resultMap>

    <sql id="Process_Person_Review">
        A.AREA_NAME AS AREA_NAME,
        A.TEAM_NAME AS TEAM_NAME,
        B.ID AS TEAM_ID,
        B.COMPANY_CODE AS COMPANY_CODE,
        B.TEAM_CODE AS TEAM_CODE,
        B.PERSON_NATURE AS PERSON_NATURE,
        B.PERSON_LEVEL AS PERSON_LEVEL,
        B.PERSON_STATUS AS PERSON_STATUS,
        B.PERSON_CHECK_START AS PERSON_CHECK_START,
        B.PERSON_UPTIME AS PERSON_UPTIME,
        B.PERSON_CORRECTIME AS PERSON_CORRECTIME,
        B.PERSON_TRY_STARTIME AS PERSON_TRY_STARTIME,
        B.PERSON_TRY_ENDTIME AS PERSON_TRY_ENDTIME,
        B.PERSON_JOINTIME AS PERSON_JOINTIME,
        B.REVIEW_STATUS AS REVIEW_STATUS,
        B.START_TIME AS START_TIME,
        B.CREATE_TIME AS CREATE_TIME,
        B.MODIFY_TIME AS MODIFY_TIME,
        B.CREATOR AS CREATOR,
        B.CREATE_NAME AS CREATE_NAME,
        B.MODIFIER AS MODIFIER,
        B.FLAG AS FLAG,
        B.REVIEW_TYPE AS REVIEW_TYPE,
        B.FLOW_ID AS FLOW_ID,
        B.AREA_CODE AS AREA_CODE,
        C.ID AS ID,
        C.START_TIME AS START_TIME,
        C.PERSON_CODE AS PERSON_CODE,
        C.PERSON_NAME AS PERSON_NAME,
        C.PERSON_IDCARD AS PERSON_IDCARD,
        C.REMARK AS REMARK,
        C.PERSON_AGE AS PERSON_AGE,
        C.PERSON_ETHNIC AS PERSON_ETHNIC,
        C.PERSON_MARR AS PERSON_MARR,
        C.PERSON_SCHOOL AS PERSON_SCHOOL,
        C.PERSON_SUBJECT AS PERSON_SUBJECT,
        C.PERSON_EDU AS PERSON_EDU,
        C.PERSON_EDULEVEL AS PERSON_EDULEVEL,
        C.PERSON_WORKTIME AS PERSON_WORKTIME,
        C.PERSON_FIRSTWORKTIME AS PERSON_FIRSTWORKTIME,
        C.PERSON_ADDRESS AS PERSON_ADDRESS,
        C.PERSON_HOMEPHONE AS PERSON_HOMEPHONE,
        C.PERSON_WORKPHONE AS PERSON_WORKPHONE,
        C.PERSON_PHONE AS PERSON_PHONE,
        C.PERSON_EMAIL AS PERSON_EMAIL,
        C.PERSON_BIRTH AS PERSON_BIRTH,
        D.CITY_NAME AS CITY_NAME,
        D.CITY_CODE AS CITY_CODE,
        D.PROVINCE_CODE AS PROVINCE_CODE,
        E.BRAND_NAME AS BRAND_NAME,
        E.BRAND_CODE AS BRAND_CODE,
        F.ID AS WORK_ID,
        F.REVIEW_LEVEL AS REVIEW_LEVEL,
        F.TYPE AS TYPE,
        F.REVIEW_STATUS AS REVIEW_STATUS,
        F.MODIFY_TIME AS MODIFY_TIME,
        F.OPINION AS OPINION
    </sql>

    <select id="selectPersonReviewProcessDetail" parameterType="java.lang.Long"
            resultMap="personReviewProcessResultMap">
        select
        <include refid="Process_Person_Review"/>
        from MKMM_TEAM_MAIN A,
        MKMM_PERSON_TEAM_REVIEW B,
        MKMM_PERSON_MAIN_REVIEW C,
        MKMM_PERSON_CITY_REVIEW D,
        MKMM_PERSON_BRAND_REVIEW E,
        MKMM_WORK_FLOW F,
        (SELECT REVIEW_ID,MAX(ID) AS MAX_ID FROM MKMM_WORK_FLOW GROUP BY REVIEW_ID
        ) G
        WHERE A.TEAM_CODE = B.TEAM_CODE
        AND B.ID = C.PERSON_TEAM_REVIEW_ID
        AND C.PERSON_TEAM_REVIEW_ID = D.PERSON_TEAM_REVIEW_ID
        AND C.PERSON_TEAM_REVIEW_ID = E.PERSON_TEAM_REVIEW_ID
        AND F.REVIEW_ID =G.REVIEW_ID
        AND F.ID =G.MAX_ID
        AND F.REVIEW_ID =C.PERSON_CODE
        AND B.FLAG ='1'
        AND C.PERSON_TEAM_REVIEW_ID = #{personTeamReviewId,jdbcType=INTEGER}
    </select>

    <update id="updateByPersonCodeAndId" parameterType="com.yqjr.fin.mkmm.sales.entity.PersonMainReview">
        update
        <include refid="Base_Table_Name"/>
        SET REMARK=#{remark,jdbcType=VARCHAR},
        PERSON_ADDRESS=#{personAddress,jdbcType=VARCHAR},
        PERSON_HOMEPHONE=#{personHomephone,jdbcType=VARCHAR},
        PERSON_WORKPHONE=#{personWorkphone,jdbcType=VARCHAR},
        PERSON_PHONE=#{personPhone,jdbcType=VARCHAR},
        PERSON_EMAIL=#{personEmail,jdbcType=VARCHAR}
        where PERSON_CODE = #{personCode,jdbcType=VARCHAR}
        AND ID = #{id,jdbcType=NUMERIC}
    </update>

    <!-- endregion -->
    <select id="selectPersonByPersonCode" parameterType="java.lang.String"
            resultMap="personReviewDetailResultMap">
        select
        <include refid="Base_Person_Review"/>
        from MKMM_TEAM_MAIN A,
        MKMM_PERSON_TEAM_REVIEW B,
        MKMM_PERSON_MAIN_REVIEW C,
        MKMM_PERSON_CITY_REVIEW D,
        MKMM_PERSON_BRAND_REVIEW E,
        MKMM_WORK_FLOW F,
        (SELECT REVIEW_ID,MAX(ID) AS MAX_ID FROM MKMM_WORK_FLOW GROUP BY REVIEW_ID
        ) G
        WHERE A.TEAM_CODE = B.TEAM_CODE
        AND B.PERSON_CODE = C.PERSON_CODE
        AND C.PERSON_CODE = D.PERSON_CODE(+)
        AND C.PERSON_CODE = E.PERSON_CODE(+)
        AND F.REVIEW_ID =G.REVIEW_ID
        AND F.ID =G.MAX_ID
        AND F.REVIEW_ID =C.PERSON_CODE
        AND B.FLAG ='1'
        AND F.REVIEW_STATUS in('00','04')
        AND C.PERSON_CODE = #{personCode,jdbcType=VARCHAR}
    </select>

    <!--通过personCode查询审核和审核中的人员-->
    <select id="selectPersonReviewById" parameterType="java.lang.Long"
            resultMap="personReviewDetailResultMap">
        select
        <include refid="Base_Person_Review"/>
        from MKMM_TEAM_MAIN A,
        MKMM_PERSON_TEAM_REVIEW B,
        MKMM_PERSON_MAIN_REVIEW C,
        MKMM_PERSON_CITY_REVIEW D,
        MKMM_PERSON_BRAND_REVIEW E,
        MKMM_WORK_FLOW F,
        (SELECT REVIEW_ID,MAX(ID) AS MAX_ID FROM MKMM_WORK_FLOW GROUP BY REVIEW_ID
        ) G
        WHERE A.TEAM_CODE = B.TEAM_CODE
        AND B.ID = C.PERSON_TEAM_REVIEW_ID
        AND C.PERSON_TEAM_REVIEW_ID = D.PERSON_TEAM_REVIEW_ID
        AND C.PERSON_TEAM_REVIEW_ID = E.PERSON_TEAM_REVIEW_ID
        AND F.REVIEW_ID =G.REVIEW_ID
        AND F.ID =G.MAX_ID
        AND F.REVIEW_ID =C.PERSON_CODE
        AND B.FLAG ='1'
        <!-- AND F.REVIEW_STATUS in('02','03') -->
        AND C.PERSON_TEAM_REVIEW_ID = #{personTeamReviewId,jdbcType=INTEGER}
    </select>
</mapper>

